#!/usr/bin/env bash
set -euo pipefail

ROOT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"

INPUT_FILE="$ROOT_DIR/app/assets/stylesheets/application.tailwind.css"
OUTPUT_FILE="$ROOT_DIR/app/assets/builds/tailwind.css"

mkdir -p "$(dirname "$OUTPUT_FILE")"

if ! command -v npx >/dev/null 2>&1; then
  echo "Error: npx is required to build Tailwind CSS. Please install Node.js." >&2
  exit 1
fi

npx @tailwindcss/cli -i "$INPUT_FILE" -o "$OUTPUT_FILE" "$@"

